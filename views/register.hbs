<div class="container">
    <div class="row">
        <div class="panel-heading">
            <div class="panel-title text-center">
                <h1 class="title">Registrera Användare</h1>
                <hr/>
            </div>
        </div>
                <div class="col-md-4 col-md-offset-4">
                    <form action="/register" method="post">

                        <!-- First Name -->
                        <label for="name" class="cols-sm-2 control-label">Förnamn</label>
                        <div id = "controlFName" class=""> </div>
                        <div id = "errorFName" class="">
                        <input type="text" name="fName" class="form-control" id="firstname" placeholder="Förnamn" required/></div>

                        <!-- Last Name -->
                        <label for="email" class="cols-sm-2 control-label">Efternamn</label>
                        <div id = "controlLName" class=""> </div>
                        <div id = "errorLName" class="">
                            <input type="text" name="lName" class="form-control" id="lastname" placeholder="Efternamn"required/></div>

                        <!-- Email -->
                        <label for="username" class="cols-sm-2 control-label">Email</label>
                        <div id = "controlEmail" class=""> </div>
                        <div id = "errorEmail" class="">
                            <input type="text" name="mail" class="form-control" id="email" placeholder="Email"required/></div>

                        <!-- Password -->
                        <label for="password" class="cols-sm-2 control-label">Lösenord</label>
                        <div id = "controlPassword" class=""> </div>
                        <div id = "errorPassword" class="">
                            <input type="password" name="password" class="form-control" id="password" placeholder="Lösenord"required/></div>

                        <!-- Role -->
                        <select name="role" class="form-control" style="margin: 15px 0">
                            <option value="admin">Admin</option>
                            <option value="teacher">Lärare</option>
                            <option value="student">Elev</option>
                        </select>

                        <!-- Register Button -->
                        <button type="submit" class="btn btn-primary btn-lg btn-block login-button" id="registerButton">Registrera</button>
                    </form>
                </div>
        </div>
    </div>

    <style>
        .row {
            margin-top: 50px;
        }
</style>
 <!-- Script controls that the user enters all the values when registering new user. -->
<script>
    $("#registerButton").click(function (event) {
        var mail = $('#email').val();



        if ($('#firstname').val() == '') {
            event.preventDefault();
            document.getElementById('controlFName').className = 'alert alert-danger';
            document.getElementById('controlFName').textContent = 'Ange förnamn';
            document.getElementById('errorFName').className = 'form-group  has-error';
        }
        else if ($('#lastname').val() =='') {
            event.preventDefault();
            document.getElementById('controlLName').className = 'alert alert-danger';
            document.getElementById('controlLName').textContent = 'Ange efternamn';
            document.getElementById('errorLName').className = 'form-group  has-error';
        }
        else if(!validateEmail (mail)){
            event.preventDefault();
          console.log('plz work');

            document.getElementById('controlEmail').className = 'alert alert-danger';
            document.getElementById('controlEmail').textContent = 'Ange mejladress';
            document.getElementById('errorEmail').className = 'form-group  has-error';
        }
        else if ($('#password').val() =='') {
            event.preventDefault();
            document.getElementById('controlPassword').className = 'alert alert-danger';
            document.getElementById('controlPassword').textContent = 'Ange lösenord';
            document.getElementById('errorPassword').className = 'form-group  has-error';
        }

    });
    function validateEmail(mail) {
        var re = /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
        return re.test(mail);
    }
</script>