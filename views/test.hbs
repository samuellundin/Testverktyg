<div class="col-md-3 pull-right text-center">
    <h2 id="timer"></h2>
</div>
<div class="container">
    <div class="col-lg-8 col-lg-offset-2">
        <div class="">
            <h2>{{test.TTitle}}</h2>
        </div>

        {{#questions}}
            {{#if alternativ}}
            <!-- Radio button -->
            <div class="panel panel-default">
                <div class="panel-heading">
                    <h3 class="panel-title" id="{{QuestionId}}">{{Question}}<span class="pull-right">Poäng: {{QPoints}}</span></h3>
                </div>
                <div class="panel-body">
                    {{#answers}}
                        <div class="radio">
                            <label><input type="radio" name="optradio" id="{{AnswersId}}">{{AText}}</label>
                        </div>
                    {{/answers}}
                </div>
            </div>
            {{/if}}

            {{#if rangordning}}
                <!-- Sortera -->
                <div class="panel panel-default">
                    <div class="panel-heading" data-toggle="collapse" data-target="#panel-body">
                        <h3 class="panel-title" id="{{QuestionId}}">{{Question}}<span class="pull-right">Poäng: {{QPoints}}</span></h3>
                    </div>
                    <div class="panel-body" id="panel-body">
                        <ul class="list-group sortable" id="sortable">
                            {{#answers}}
                                <li class="list-group-item" id="{{AnswersId}}">{{AText}}</li>
                            {{/answers}}
                        </ul>
                    </div>
                </div>
            {{/if}}

            {{#if flerval}}
                <!-- Checkbox -->
                <div class="panel panel-default">
                    <div class="panel-heading">
                        <h3 class="panel-title" id="{{QuestionId}}">{{Question}}<span class="pull-right">Poäng: {{QPoints}}</span></h3>
                    </div>
                    <div class="panel-body">
                        {{#answers}}
                            <div class="checkbox">
                                <label><input type="checkbox" value="" id="{{AnswersId}}">{{AText}}</label>
                            </div>
                        {{/answers}}
                    </div>
                </div>
            {{/if}}

            {{#if oppna}}
                <!-- Textarea -->
                <div class="panel panel-default">
                    <div class="panel-heading">
                        <h3 class="panel-title" id="{{QuestionId}}">{{Question}}<span class="pull-right">Poäng: {{QPoints}}</span></h3>
                    </div>
                    <div class="panel-body">
                        <div class="form-group">
                            <label>Svar:</label>
                            <textarea class="form-control" rows="5"></textarea>
                        </div>
                    </div>
                </div>
            {{/if}}
        {{/questions}}

        <button type="submit" class='btn btn-primary pull-right'>Lämna In</button>
    </div>
</div>

<script>
    $(function(){
        $(".sortable").sortable();


        $('.container').on('click', '.panel-heading', function(e) {
            $(this).next('.panel-body').slideToggle();
        });
    });

    var sec = 0;
    var min;
    var myVar;
    timer({{test.TTimeMin}});
    //Function timer start function countDown every second.
    function timer(time) {
        if(time == 0){
            return;
        }
        min = time;
        countDown(); //Call function countDown too show starttime before count down.
        myVar = setInterval(countDown, 1000);
    }
    //Function countDown display time in HTML
    function countDown() {
        var element = document.getElementById('timer');
        if(sec <10){
            element.innerHTML =   min + ':' + '0' + sec;}
        else{
            element.innerHTML = min + ':' + sec;
        }

        if (sec < 1 && min < 1) {
            clearInterval(myVar);
        }
        if (sec < 1) {
            min--;
            sec = 60;
        }
        sec--;
    }
</script>